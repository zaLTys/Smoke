@page "/requests/new"
@using UI.Components.Loader
@inherits DataLoader


<Content State="@State" ErrorMessage="@ErrorMessage">
    <MudContainer Fixed="true">
        <MudGrid>
            <MudItem xs="12" sm="8" md="8" lg="8">
                <MudPaper Class="pa-4 my-2" Style="width:100%;">
                    <MudGrid>
                        <MudItem xs="12">
                            <MudText Typo="Typo.h6">New Request</MudText>
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField Label="Name"
                                          @bind-Value="RequestToRegister.Name"
                                          Variant="Variant.Outlined">

                            </MudTextField>
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField Label="Curl"
                                          @bind-Value="RequestToRegister.Curl"
                                          Lines="3"
                                          Variant="Variant.Outlined">
                            </MudTextField>
                        </MudItem>
                        <MudItem xs="6">
                            <MudButton Variant="Variant.Outlined"
                                       ButtonType="ButtonType.Submit"
                                       StartIcon="@Icons.Material.Filled.Check"
                                       DisableElevation="true"
                                       Size="Size.Small"
                                       Style="background-color: white;"
                                       Color="Color.Primary"
                                       OnClick="HandleRegister">
                                Register
                            </MudButton>
                        </MudItem>
                        <MudItem xs="12" sm="12" md="12" lg="12">
                            <MudDivider></MudDivider>
                        </MudItem>
                        <MudItem xs="12" sm="12" md="12" lg="12">
                            <MudGrid>
                                <MudItem xs="12" sm="12" md="12" lg="12">
                                    <MudButton Variant="Variant.Outlined"
                                               ButtonType="ButtonType.Submit"
                                               StartIcon="@Icons.Material.Filled.Check"
                                               DisableElevation="true"
                                               Size="Size.Small"
                                               Style="background-color: darkorange;"
                                               Color="Color.Primary"
                                               OnClick="Execute">
                                        Execute
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12">
                                    <MudTextField Label="Output"
                                                  @bind-Value="Output"
                                                  Variant="Variant.Outlined"
                                                  Lines="5"
                                                  Style="width: 100%; height: 100%;"
                                                  ReadOnly="true" />
                                </MudItem>
                            </MudGrid>
                        </MudItem>

                    </MudGrid>
                </MudPaper>
            </MudItem>

            <MudItem xs="4" sm="4" md="4" lg="4">
                <UI.Components.Lists.ApiRequestList OnSelected="NavigateToRequest">
                </UI.Components.Lists.ApiRequestList>
            </MudItem>
            <MudItem xs="4" sm="4" md="4" lg="4">
                <UI.Components.Lists.ScenarioList OnSelected="NavigateToScenario">

                </UI.Components.Lists.ScenarioList>
            </MudItem>
        </MudGrid>
    </MudContainer>
</Content>